/* ============================================================
   CRM UNIVERSAL RESPONSIVE FIX
   ============================================================
   Purpose: Ensures all CRM portals display correctly on ANY screen
   Apply to: HR, Interviewer, Assigner, Admin, Kanban, Command Centers
   
   Add this line to ALL HTML files after other CSS imports:
   <link rel="stylesheet" href="https://infodigitalguider.github.io/crm-css-assets/crm-responsive-universal.css">
   ============================================================ */

/* ============================================================
   SECTION 1: VIEWPORT FIT - AUTO-SCALE FOR ANY SCREEN
   This ensures content fits without manual zoom
   ============================================================ */

/* Large monitors - full size */
@media (min-width: 1600px) {
  html { zoom: 1; }
}

/* Medium-large screens (1400-1599px) */
@media (max-width: 1599px) and (min-width: 1400px) {
  html { zoom: 0.95; }
}

/* Medium screens (1200-1399px) */
@media (max-width: 1399px) and (min-width: 1200px) {
  html { zoom: 0.9; }
}

/* Smaller laptops (1024-1199px) */
@media (max-width: 1199px) and (min-width: 1024px) {
  html { zoom: 0.85; }
}

/* Small laptops / large tablets (900-1023px) */
@media (max-width: 1023px) and (min-width: 900px) {
  html { zoom: 0.8; }
}

/* Tablets (768-899px) */
@media (max-width: 899px) and (min-width: 768px) {
  html { zoom: 0.75; }
}

/* Mobile - no zoom, use responsive layout */
@media (max-width: 767px) {
  html { zoom: 1; }
}

/* ============================================================
   SECTION 2: UNIVERSAL CONTAINER FIXES
   Prevents overflow and ensures scrollability
   ============================================================ */

html, body {
  overflow-x: hidden;
  max-width: 100vw;
}

.main-container,
[class*="main-container"],
[class*="content-wrapper"] {
  max-width: 100%;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
}

/* ============================================================
   SECTION 3: FEATURE CARDS & KPI GRIDS (All Portals)
   Fluid responsive grids that adapt to any screen
   ============================================================ */

/* Extra large screens (1600px+): 8 columns */
@media (min-width: 1600px) {
  .feature-row { grid-template-columns: repeat(8, 1fr) !important; }
  .kpi-row { grid-template-columns: repeat(8, 1fr) !important; }
}

/* Large screens (1400-1599px): 6 columns */
@media (max-width: 1599px) and (min-width: 1400px) {
  .feature-row { grid-template-columns: repeat(6, 1fr) !important; gap: 12px !important; }
  .kpi-row { grid-template-columns: repeat(6, 1fr) !important; gap: 10px !important; }
}

/* Medium-large (1200-1399px): 5 columns */
@media (max-width: 1399px) and (min-width: 1200px) {
  .feature-row { grid-template-columns: repeat(5, 1fr) !important; gap: 10px !important; }
  .kpi-row { grid-template-columns: repeat(5, 1fr) !important; gap: 10px !important; }
  .feature-title { font-size: 13px !important; }
  .feature-desc { font-size: 10px !important; }
  .kpi-number { font-size: 28px !important; }
}

/* Medium (1024-1199px): 4 columns */
@media (max-width: 1199px) and (min-width: 1024px) {
  .feature-row { grid-template-columns: repeat(4, 1fr) !important; gap: 10px !important; }
  .kpi-row { grid-template-columns: repeat(4, 1fr) !important; gap: 8px !important; }
  .feature-icon { width: 40px !important; height: 40px !important; font-size: 18px !important; }
  .feature-title { font-size: 12px !important; }
  .kpi-number { font-size: 24px !important; }
  .kpi-label { font-size: 9px !important; }
}

/* Small-medium (900-1023px): 4 columns compact */
@media (max-width: 1023px) and (min-width: 900px) {
  .feature-row { grid-template-columns: repeat(4, 1fr) !important; gap: 8px !important; }
  .kpi-row { grid-template-columns: repeat(4, 1fr) !important; gap: 6px !important; }
  .feature-card { padding: 12px !important; }
  .feature-icon { width: 36px !important; height: 36px !important; font-size: 16px !important; margin-bottom: 8px !important; }
  .feature-title { font-size: 11px !important; }
  .feature-desc { font-size: 9px !important; }
  .kpi-card { padding: 10px 6px !important; }
  .kpi-number { font-size: 22px !important; }
  .kpi-label { font-size: 8px !important; }
}

/* Tablets (768-899px): 3 columns */
@media (max-width: 899px) and (min-width: 768px) {
  .feature-row { grid-template-columns: repeat(3, 1fr) !important; gap: 8px !important; }
  .kpi-row { grid-template-columns: repeat(4, 1fr) !important; gap: 6px !important; }
  .feature-card { padding: 10px !important; }
  .feature-icon { width: 32px !important; height: 32px !important; font-size: 14px !important; margin-bottom: 6px !important; }
  .feature-title { font-size: 10px !important; }
  .feature-desc { display: none !important; }
  .kpi-card { padding: 8px 4px !important; }
  .kpi-number { font-size: 20px !important; }
  .kpi-label { font-size: 7px !important; }
}

/* Mobile (below 768px): 2 columns */
@media (max-width: 767px) {
  .feature-row { grid-template-columns: repeat(2, 1fr) !important; gap: 8px !important; }
  .kpi-row { grid-template-columns: repeat(2, 1fr) !important; gap: 6px !important; }
  .feature-card { padding: 12px !important; }
  .feature-icon { width: 36px !important; height: 36px !important; }
  .feature-title { font-size: 11px !important; }
  .feature-desc { display: none !important; }
  .kpi-number { font-size: 24px !important; }
  .kpi-label { font-size: 9px !important; }
}

/* Small mobile (below 480px): 2 columns tight */
@media (max-width: 479px) {
  .feature-row { grid-template-columns: repeat(2, 1fr) !important; gap: 6px !important; }
  .kpi-row { grid-template-columns: repeat(2, 1fr) !important; gap: 4px !important; }
  .feature-card { padding: 10px 8px !important; }
  .feature-icon { width: 32px !important; height: 32px !important; font-size: 14px !important; }
  .feature-badge { font-size: 8px !important; padding: 2px 6px !important; }
}

/* ============================================================
   SECTION 4: TOP NAVIGATION BAR (All Portals)
   ============================================================ */

/* Medium screens */
@media (max-width: 1199px) {
  .top-nav, .header {
    padding: 10px 16px !important;
    flex-wrap: wrap !important;
    gap: 8px !important;
  }
  .nav-brand h1 { font-size: 20px !important; }
  .nav-badge { padding: 4px 10px !important; font-size: 11px !important; }
  #live-clock { font-size: 11px !important; padding: 6px 10px !important; }
  .user-pill { padding: 4px 10px 4px 4px !important; }
  .user-avatar { width: 28px !important; height: 28px !important; font-size: 12px !important; }
  .user-info { font-size: 11px !important; }
}

/* Tablets */
@media (max-width: 899px) {
  .nav-brand h1 { font-size: 18px !important; }
  .nav-badge { display: none !important; }
  .version-badge { display: none !important; }
  #live-clock { display: none !important; }
  .nav-activity { padding: 6px 8px !important; font-size: 10px !important; }
}

/* Mobile */
@media (max-width: 767px) {
  .top-nav, .header {
    padding: 8px 12px !important;
  }
  .nav-brand h1 { font-size: 16px !important; }
  .nav-right {
    width: 100% !important;
    justify-content: flex-end !important;
    margin-top: 6px !important;
  }
  .user-pill { display: none !important; }
  .notification-bell { padding: 6px !important; font-size: 16px !important; }
}

/* ============================================================
   SECTION 5: FILTER BAR (All Portals)
   ============================================================ */

.filter-bar {
  flex-wrap: wrap !important;
}

@media (max-width: 1199px) {
  .filter-bar {
    padding: 14px 16px !important;
    gap: 10px !important;
  }
  .search-input { min-width: 180px !important; }
  .filter-select { min-width: 120px !important; font-size: 12px !important; }
  .filter-btn { padding: 8px 12px !important; font-size: 12px !important; }
}

@media (max-width: 899px) {
  .filter-bar {
    padding: 12px !important;
    gap: 8px !important;
  }
  .filter-bar-title { width: 100% !important; margin-bottom: 4px !important; }
  .search-input { flex: 1 1 100% !important; min-width: 100% !important; }
  .filter-select { flex: 1 1 calc(50% - 4px) !important; min-width: calc(50% - 4px) !important; }
}

@media (max-width: 599px) {
  .filter-select { flex: 1 1 100% !important; min-width: 100% !important; }
  .filter-btn { flex: 1 1 calc(50% - 4px) !important; justify-content: center !important; }
}

/* ============================================================
   SECTION 6: DATA TABLES (All Portals)
   ============================================================ */

.table-wrapper,
.table-container,
[class*="table-wrapper"],
[class*="table-container"] {
  overflow-x: auto !important;
  -webkit-overflow-scrolling: touch !important;
  max-width: 100% !important;
}

.data-table,
.candidate-table,
[class*="data-table"] {
  min-width: 800px;
}

@media (max-width: 1199px) {
  .data-table th,
  .data-table td,
  .candidate-table th,
  .candidate-table td {
    padding: 10px 8px !important;
    font-size: 12px !important;
  }
}

@media (max-width: 899px) {
  .data-table th,
  .data-table td,
  .candidate-table th,
  .candidate-table td {
    padding: 8px 6px !important;
    font-size: 11px !important;
  }
  .candidate-avatar { width: 28px !important; height: 28px !important; font-size: 11px !important; }
  .stage-badge, .status-badge { font-size: 9px !important; padding: 3px 6px !important; }
}

/* ============================================================
   SECTION 7: COMMAND CENTER LAYOUTS (HR & Interviewer)
   3-panel layout responsive handling
   ============================================================ */

/* Command Center main container */
@media (max-width: 1399px) {
  .main-container[style*="grid-template-columns"],
  [class*="main-container"][style*="grid-template-columns"] {
    --sidebar-width: 280px !important;
    --inspector-width: 320px !important;
  }
}

@media (max-width: 1199px) {
  .main-container[style*="grid-template-columns"],
  [class*="main-container"][style*="grid-template-columns"] {
    --sidebar-width: 260px !important;
    --inspector-width: 280px !important;
  }
}

/* Hide inspector on smaller screens */
@media (max-width: 1100px) {
  .inspector {
    display: none !important;
  }
  .resize-handle:last-of-type {
    display: none !important;
  }
  .main-container {
    grid-template-columns: var(--sidebar-width, 280px) 4px 1fr !important;
  }
}

/* Collapse sidebar to toggle on tablets */
@media (max-width: 900px) {
  .sidebar {
    position: fixed !important;
    left: -100% !important;
    top: 0 !important;
    height: 100vh !important;
    z-index: 9999 !important;
    transition: left 0.3s ease !important;
    width: 85% !important;
    max-width: 320px !important;
  }
  .sidebar.mobile-open {
    left: 0 !important;
  }
  .resize-handle {
    display: none !important;
  }
  .main-container {
    grid-template-columns: 1fr !important;
    display: block !important;
  }
  .content {
    padding: 12px !important;
  }
}

/* ============================================================
   SECTION 8: KANBAN PIPELINE VIEW
   ============================================================ */

.kanban-container,
.pipeline-container,
[class*="kanban"],
[class*="pipeline"] {
  overflow-x: auto !important;
  -webkit-overflow-scrolling: touch !important;
}

.kanban-columns,
.pipeline-columns,
[class*="kanban-columns"] {
  min-width: max-content;
}

@media (max-width: 1199px) {
  .kanban-column,
  .pipeline-column,
  [class*="kanban-column"] {
    min-width: 260px !important;
    max-width: 280px !important;
  }
}

@media (max-width: 899px) {
  .kanban-column,
  .pipeline-column,
  [class*="kanban-column"] {
    min-width: 240px !important;
    max-width: 260px !important;
  }
  .kanban-card,
  [class*="kanban-card"] {
    padding: 10px !important;
  }
}

@media (max-width: 599px) {
  .kanban-column,
  .pipeline-column,
  [class*="kanban-column"] {
    min-width: 85vw !important;
    max-width: 90vw !important;
  }
}

/* ============================================================
   SECTION 9: MODALS & DRAWERS (All Portals)
   ============================================================ */

.modal,
[class*="modal"]:not(.modal-overlay) {
  max-width: 95vw !important;
  max-height: 90vh !important;
}

.modal-body,
[class*="modal-body"] {
  max-height: calc(90vh - 140px) !important;
  overflow-y: auto !important;
}

.drawer,
[class*="drawer"] {
  max-width: 90vw !important;
}

@media (max-width: 767px) {
  .modal,
  [class*="modal"]:not(.modal-overlay) {
    width: 98vw !important;
    max-width: 98vw !important;
    margin: 1vh auto !important;
    border-radius: 12px !important;
  }
  .drawer,
  [class*="drawer"] {
    width: 100vw !important;
    max-width: 100vw !important;
  }
  .form-row {
    grid-template-columns: 1fr !important;
  }
}

/* ============================================================
   SECTION 10: STATS BAR (Command Centers)
   ============================================================ */

.stats-bar,
[class*="stats-bar"] {
  flex-wrap: wrap !important;
  justify-content: center !important;
}

.stats-bar-items,
[class*="stats-bar-items"] {
  flex-wrap: wrap !important;
  justify-content: center !important;
}

@media (max-width: 1199px) {
  .stat-btn {
    padding: 5px 10px !important;
    font-size: 12px !important;
  }
  .stat-btn .stat-count {
    font-size: 9px !important;
    padding: 1px 5px !important;
  }
}

@media (max-width: 767px) {
  .stat-btn {
    padding: 4px 8px !important;
    font-size: 11px !important;
  }
}

/* ============================================================
   SECTION 11: CONTROL PANELS (Admin, Component Control)
   ============================================================ */

.control-grid,
[class*="control-grid"] {
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)) !important;
}

@media (max-width: 599px) {
  .control-grid,
  [class*="control-grid"] {
    grid-template-columns: 1fr !important;
  }
}

.control-tabs,
[class*="control-tabs"] {
  flex-wrap: wrap !important;
}

@media (max-width: 899px) {
  .control-tab {
    padding: 10px 14px !important;
    font-size: 11px !important;
  }
}

/* ============================================================
   SECTION 12: MAIN TABS (All Portals)
   ============================================================ */

.main-tabs,
[class*="main-tabs"] {
  flex-wrap: wrap !important;
  gap: 6px !important;
}

@media (max-width: 899px) {
  .main-tab {
    padding: 10px 16px !important;
    font-size: 12px !important;
  }
}

@media (max-width: 599px) {
  .main-tab {
    flex: 1 1 calc(50% - 6px) !important;
    justify-content: center !important;
    padding: 10px 12px !important;
    font-size: 11px !important;
  }
}

/* ============================================================
   SECTION 13: ACCORDION & INSPECTOR PANELS
   ============================================================ */

@media (max-width: 1199px) {
  .inspector-section,
  .accordion-content {
    padding: 12px !important;
  }
  .inspector-field input,
  .inspector-field select,
  .inspector-field textarea {
    padding: 6px 8px !important;
    font-size: 11px !important;
  }
}

/* ============================================================
   SECTION 14: BADGES & SMALL ELEMENTS
   ============================================================ */

@media (max-width: 899px) {
  .stage-badge,
  .status-badge,
  [class*="badge"] {
    font-size: 9px !important;
    padding: 3px 8px !important;
  }
  .feature-badge {
    font-size: 8px !important;
    padding: 2px 6px !important;
    top: 6px !important;
    right: 6px !important;
  }
}

/* ============================================================
   SECTION 15: PRINT STYLES
   ============================================================ */

@media print {
  html { zoom: 1 !important; }
  .top-nav, .header, .sidebar, .inspector, 
  .mobile-bottom-nav, .mobile-menu-btn { display: none !important; }
  .main-container { display: block !important; max-width: 100% !important; }
  .content { padding: 0 !important; }
}

/* ============================================================
   SECTION 16: ACCESSIBILITY - REDUCED MOTION
   ============================================================ */

@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* ============================================================
   SECTION 17: HIGH CONTRAST MODE SUPPORT
   ============================================================ */

@media (prefers-contrast: high) {
  .feature-card, .kpi-card, .filter-bar, .table-section {
    border: 2px solid currentColor !important;
  }
}

/* ============================================================
   END OF UNIVERSAL RESPONSIVE FIX
   ============================================================ */
